<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default-layout}">
<head>
    <title>ìë£Œì‹¤</title>
    <th:block layout:fragment="css">
        <link rel="stylesheet" th:href="@{/css/sub-page.css}">
        <link rel="stylesheet" th:href="@{/css/sidebar.css}">
        <style>
            /* ìë£Œì‹¤ ìƒì„¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼ */
            .resource-detail {
                border-top: 2px solid #1e3a5f;
            }
            
            .resource-header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                padding: 20px 0;
                border-bottom: 1px solid #e9ecef;
            }
            
            .resource-title {
                font-size: 1.25rem;
                font-weight: 600;
                color: #1a1a1a;
                margin: 0;
                flex: 1;
            }
            
            .resource-meta {
                display: flex;
                gap: 20px;
                font-size: 0.9rem;
                color: #6c757d;
                flex-shrink: 0;
            }
            
            .resource-content {
                padding: 30px 0;
                min-height: 200px;
                line-height: 1.8;
                color: #333;
                border-bottom: 1px solid #e9ecef;
            }
            
            .resource-files {
                padding: 20px 0;
                border-bottom: 1px solid #e9ecef;
            }
            
            .resource-files .file-item {
                display: flex;
                align-items: center;
                padding: 12px 16px;
                background-color: #f8f9fa;
                border-radius: 4px;
                margin-bottom: 8px;
            }
            
            .resource-files .file-item:last-child {
                margin-bottom: 0;
            }
            
            .resource-files .file-item a {
                color: #0d6efd;
                font-size: 0.95rem;
            }
            
            .resource-files .file-item a:hover {
                text-decoration: underline;
            }
            
            .resource-files .file-icon {
                margin-right: 10px;
                font-size: 1.1rem;
            }
            
            /* ì´ì „ê¸€/ë‹¤ìŒê¸€ ë„¤ë¹„ê²Œì´ì…˜ */
            .resource-nav {
                border-bottom: 1px solid #e9ecef;
            }
            
            .resource-nav-item {
                display: flex;
                align-items: center;
                padding: 14px 0;
                border-bottom: 1px solid #e9ecef;
            }
            
            .resource-nav-item:last-child {
                border-bottom: none;
            }
            
            .resource-nav-label {
                display: flex;
                align-items: center;
                width: 100px;
                font-weight: 500;
                color: #495057;
                flex-shrink: 0;
            }
            
            .resource-nav-label .arrow {
                margin-right: 8px;
            }
            
            .resource-nav-link {
                color: #333;
                flex: 1;
            }
            
            .resource-nav-link:hover {
                color: #0d6efd;
            }
            
            .resource-nav-link.disabled {
                color: #adb5bd;
                pointer-events: none;
            }
            
            /* ë²„íŠ¼ ì˜ì—­ */
            .resource-actions {
                display: flex;
                justify-content: center;
                padding: 30px 0;
            }
            
            .btn-list {
                padding: 12px 40px;
                font-size: 1rem;
            }
        </style>
    </th:block>
</head>
<body>
<main layout:fragment="content">
    <!-- í˜ì´ì§€ ë°°ë„ˆ -->
    <th:block th:replace="~{fragments/page-banner :: page-banner('ê³ ê°ì§€ì›', 'ì„œë¹„ìŠ¤ ì´ìš©ì— í•„ìš”í•œ ìë£Œë¥¼ ì œê³µí•©ë‹ˆë‹¤')}"></th:block>

    <!-- ë¸Œë ˆë“œí¬ëŸ¼ -->
    <th:block th:replace="~{fragments/breadcrumb :: breadcrumb(${breadcrumbItems})}"></th:block>

    <!-- ì„œë¸Œ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ -->
    <div class="sub-page-layout">
        <!-- ì‚¬ì´ë“œë°” -->
        <th:block th:replace="~{layout/sidebar :: sidebar('ê³ ê°ì§€ì›', ${sidebarMenus}, ${currentMenu})}"></th:block>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <div class="sub-page-main">
            <h2 class="content-title">ìë£Œì‹¤</h2>

            <!-- ìë£Œ ìƒì„¸ -->
            <div class="resource-detail">
                <!-- í—¤ë”: ì œëª©, ë‚ ì§œ, ì¡°íšŒìˆ˜ -->
                <div class="resource-header">
                    <h3 class="resource-title" th:text="${resource.title}">ìë£Œ ì œëª©</h3>
                    <div class="resource-meta">
                        <span th:text="${#temporals.format(resource.createdAt, 'yyyy-MM-dd')}">2025-01-20</span>
                        <span th:text="${resource.viewCount}">123</span>
                    </div>
                </div>
                
                <!-- ë³¸ë¬¸ ë‚´ìš© -->
                <div class="resource-content">
                    <p th:text="${resource.content}" th:if="${resource.content != null and !resource.content.isEmpty()}">ìë£Œ ì„¤ëª… ë‚´ìš©</p>
                    <p th:if="${resource.content == null or resource.content.isEmpty()}">ë“±ë¡ëœ ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
                
                <!-- ì²¨ë¶€íŒŒì¼ -->
                <div class="resource-files" th:if="${resource.fileName != null}">
                    <div class="file-item">
                        <span class="file-icon">ğŸ“</span>
                        <a th:href="@{/support/resource/{id}/download(id=${resource.id})}" th:text="${resource.fileName}">íŒŒì¼ëª….pdf</a>
                    </div>
                </div>
                
                <!-- ì´ì „ê¸€/ë‹¤ìŒê¸€ ë„¤ë¹„ê²Œì´ì…˜ -->
                <div class="resource-nav">
                    <div class="resource-nav-item">
                        <span class="resource-nav-label">
                            <span class="arrow">â–³</span> ë‹¤ìŒ ê¸€
                        </span>
                        <a th:if="${nextResource != null}" 
                           th:href="@{/support/resource/{id}(id=${nextResource.id})}" 
                           th:text="${nextResource.title}"
                           class="resource-nav-link">ë‹¤ìŒ ê¸€ ì œëª©</a>
                        <span th:if="${nextResource == null}" class="resource-nav-link disabled">ë‹¤ìŒ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                    <div class="resource-nav-item">
                        <span class="resource-nav-label">
                            <span class="arrow">â–½</span> ì´ì „ ê¸€
                        </span>
                        <a th:if="${prevResource != null}" 
                           th:href="@{/support/resource/{id}(id=${prevResource.id})}" 
                           th:text="${prevResource.title}"
                           class="resource-nav-link">ì´ì „ ê¸€ ì œëª©</a>
                        <span th:if="${prevResource == null}" class="resource-nav-link disabled">ì´ì „ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                </div>
                
                <!-- ëª©ë¡ ë²„íŠ¼ -->
                <div class="resource-actions">
                    <a th:href="@{/support/resource}" class="btn btn-secondary btn-list">ëª©ë¡</a>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>
